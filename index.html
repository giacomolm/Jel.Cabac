<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<title>Jel</title>

<link rel="stylesheet" href="css/codemirror.css" type="text/css" media="screen">
<link rel="stylesheet" href="css/bootstrap.css" type="text/css" media="screen">
<link rel="stylesheet" href="css/jstree/jstree.min.css" type="text/css" media="screen">
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen">
<link rel="stylesheet" href="css/scrollbar.css" type="text/css" media="screen">
<link rel="stylesheet" href="css/raphael.pan-zoom.css" type="text/css" media="screen">

<script type="text/javascript" src="lib/jel/jel.js"></script>
<script data-main="js/main" src="lib/require/require.js"></script>

<script>

	Jel.fn.init = function(){

		//Setting the xsd file in order to do validation
		try{
		  Jel.attachXSD('schema/cabac.xsd');
		  Jel.setBaseFile('xml/terms.xml');
		  //Jel.setNamespace('http://camel.apache.org/schema/spring');
		  Jel.setBaseElement('terms');
		  //Jel.setXMLWrapper('routes');
		}
		catch(err){
		  console.log("Problems with http xml request");
		}

		var noop = new Jel.Shape();
		noop.setImage("img/noop.gif");
		noop.setName("Noop");
		noop.setDimension(84,55);
		noop.setMetaelement("noop");	
		Jel.paletteShapes.addShape(noop);	

		var prod = new Jel.Shape();
		prod.setImage("img/prod.gif");
		prod.setName("Prod");
		prod.setDimension(102,54);
		prod.setMetaelement("prod");	
		Jel.paletteShapes.addShape(prod);

		var cons = new Jel.Shape();
		cons.setImage("img/cons.gif");
		cons.setName("Cons");
		cons.setDimension(102,54);	
		cons.setMetaelement("cons");
		Jel.paletteShapes.addShape(cons);

		var trans = new Jel.Shape();
		trans.setImage("img/trans.gif");
		trans.setName("Trans");
		trans.setDimension(161,55);
		trans.setMetaelement("trans");	
		Jel.paletteShapes.addShape(trans);

		var split = new Jel.Shape();
		split.setImage("img/split.gif");
		split.setName("Split");
		split.setDimension(233,54);
		split.setMetaelement("split");
		Jel.paletteShapes.addShape(split);		

		var merge = new Jel.Shape();
		merge.setImage("img/merge.gif");
		merge.setName("Merge");
		merge.setDimension(233,54);
		merge.setMetaelement("merge");
		Jel.paletteShapes.addShape(merge);	

		var order = new Jel.Shape();
		order.setImage("img/order.gif");
		order.setName("Order");
		order.setDimension(345,54);
		order.setMetaelement("order");			
		Jel.paletteShapes.addShape(order);		

		//Adding composed algebra terms to palette
		var plug = new Jel.Shape();
		plug.setImage("img/plug.gif");
		plug.setName("Plug");
		plug.setDimension(84,54);	
		plug.setAsComposed();
		plug.setMetaelement("plug");
		Jel.paletteShapes.addShape(plug);	

		var altern = new Jel.Shape();
		altern.setImage("img/altern.gif");
		altern.setName("Altern");
		altern.setDimension(84,55);	
		altern.setAsComposed();
		altern.setMetaelement("altern");
		Jel.paletteShapes.addShape(altern);	

		var conj = new Jel.Shape();
		conj.setImage("img/conj.gif");
		conj.setName("Conj");
		conj.setDimension(84,55);	
		conj.setAsComposed();
		conj.setMetaelement("conj");	
		Jel.paletteShapes.addShape(conj);	

		var quot = new Jel.Shape();
		quot.setImage("img/quot.gif");
		quot.setName("Quot");
		quot.setDimension(84,55);	
		quot.setAsComposed();
		quot.setMetaelement("quot");	
		Jel.paletteShapes.addShape(quot);

		var invert = new Jel.Shape();
		invert.setImage("img/inv.gif");
		invert.setName("Invert");
		invert.setDimension(84,55);	
		invert.setAsComposed();		
		invert.setMetaelement("invert");
		Jel.paletteShapes.addShape(invert);

		/*instance1 = Jel.Canvas.addShape(shape1);	

		var shape2 = new Jel.Shape();
		shape2.setImage("img/mt.gif");
		shape2.setName("Translator");
		shape2.setPosition(240,140);
		shape2.setMetaelement('transform');	
		shape2.setAsComposed();
		

		Jel.paletteShapes.addShape(shape2);*/
	}

</script>

</head>

<body>
	<div id="menu"></div>
	<div id="dialog"></div>
	<div id="notification"></div>
	<div id="middle">
		<div id="palette"><div id="paletteheader"><h5>Palette</h5></div></div>
		<div id="tab"></div>
		<div id="container">
			<div id="main" ondragover="event.preventDefault()"></div>
			<div id="dsl"></div>
		</div>
		<div id="rightMenu">
			<div id="treeheader"><h5>Tree</h5></div>
			<div id="tree" class="jstree jstree-1 jstree-default jstree-default-responsive"></div>
			<div id="properties"></div>
			<div id="anteprimaheader"><h5>Anteprima</h5></div>
			<div id="anteprima"></div>
		</div>
	</div>
	
</body>
</html>
